# Live Wallpaper

> A dynamic wallpaper app developed with Kotlin Multiplatform (KMP) and Cursor, supporting Android platform. Create personalized dynamic wallpaper experiences by cycling through multiple images.

ä¸€ä¸ªåŸºäº Kotlin Multiplatform (KMP) å’Œ Cursor å¼€å‘çš„åŠ¨æ€å£çº¸åº”ç”¨ï¼Œæ”¯æŒ Android å¹³å°ã€‚é€šè¿‡è½®æ’­å¤šå¼ å›¾ç‰‡åˆ›å»ºä¸ªæ€§åŒ–çš„åŠ¨æ€å£çº¸ä½“éªŒã€‚

---

## ğŸ“– Project Description / é¡¹ç›®ä»‹ç»

**English:**

Live Wallpaper is a modern Android application built with Kotlin Multiplatform (KMP) and developed using Cursor IDE. It allows users to create dynamic wallpapers by cycling through multiple images with customizable settings. The app features a clean architecture, supporting both Chinese and English languages, and provides an intuitive interface for managing and customizing wallpaper collections.

**ä¸­æ–‡:**

Live Wallpaper æ˜¯ä¸€æ¬¾ä½¿ç”¨ Kotlin Multiplatform (KMP) æŠ€æœ¯æ ˆå¼€å‘ã€é€šè¿‡ Cursor IDE æ„å»ºçš„ç°ä»£åŒ– Android åŠ¨æ€å£çº¸åº”ç”¨ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è½®æ’­å¤šå¼ å›¾ç‰‡æ¥åˆ›å»ºä¸ªæ€§åŒ–åŠ¨æ€å£çº¸ï¼Œå¹¶æ”¯æŒä¸°å¯Œçš„è‡ªå®šä¹‰è®¾ç½®ã€‚åº”ç”¨é‡‡ç”¨æ¸…æ™°çš„æ¶æ„è®¾è®¡ï¼Œæ”¯æŒä¸­è‹±æ–‡åŒè¯­ï¼Œæä¾›ç›´è§‚çš„ç•Œé¢ç”¨äºç®¡ç†å’Œè‡ªå®šä¹‰å£çº¸é›†åˆã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ–¼ï¸ **å¤šå›¾ç‰‡è½®æ’­**ï¼šæ”¯æŒæ·»åŠ å¤šå¼ å›¾ç‰‡ï¼Œè‡ªåŠ¨è½®æ’­æ˜¾ç¤º
- ğŸ¨ **å›¾ç‰‡è£å‰ª**ï¼šæ”¯æŒå¯¹æ¯å¼ å›¾ç‰‡è¿›è¡Œè£å‰ªå’Œä½ç½®è°ƒæ•´
- ğŸ–¼ï¸ **å›¾åº“é€‰æ‹©**ï¼šæ”¯æŒä»è®¾å¤‡å›¾åº“ä¸­é€‰æ‹©å›¾ç‰‡
- ğŸ¯ **å¤šé€‰ç®¡ç†**ï¼šæ”¯æŒæ‰¹é‡é€‰æ‹©å’Œåˆ é™¤å›¾ç‰‡
- ğŸ”€ **å›¾ç‰‡é¡ºåºè°ƒæ•´**ï¼šæ”¯æŒæ‹–æ‹½è°ƒæ•´å›¾ç‰‡æ˜¾ç¤ºé¡ºåº
- â±ï¸ **è‡ªå®šä¹‰é—´éš”**ï¼šå¯è®¾ç½®å›¾ç‰‡åˆ‡æ¢é—´éš”æ—¶é—´ï¼ˆ1-60ç§’ï¼‰
- ğŸ“ **ç¼©æ”¾æ¨¡å¼**ï¼šæä¾›å¡«å……ï¼ˆCENTER_CROPï¼‰å’Œé€‚åº”ï¼ˆFIT_CENTERï¼‰ä¸¤ç§ç¼©æ”¾æ¨¡å¼
- ğŸ² **æ’­æ”¾æ¨¡å¼**ï¼šæ”¯æŒé¡ºåºæ’­æ”¾å’Œéšæœºæ’­æ”¾ä¸¤ç§æ¨¡å¼
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**ï¼šå†…ç½®ä¸­è‹±æ–‡ï¼ˆç®€ä½“ä¸­æ–‡/è‹±æ–‡ï¼‰åˆ‡æ¢ï¼Œæ‰€æœ‰ UI æ–‡æ¡ˆå‡é€šè¿‡ç»Ÿä¸€å›½é™…åŒ–èµ„æºç®¡ç†
- ğŸ’¾ **é…ç½®æŒä¹…åŒ–**ï¼šå£çº¸é…ç½®è‡ªåŠ¨ä¿å­˜ï¼Œé‡å¯åæ¢å¤

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

- **è¯­è¨€**ï¼šKotlin
- **å¹³å°**ï¼šKotlin Multiplatformï¼ˆKMPï¼‰
- **UI æ¡†æ¶**ï¼šJetpack Composeï¼ˆMaterial3ï¼‰
- **æ¶æ„æ¨¡å¼**ï¼šClean Architecture + MVVM
- **ä¾èµ–æ³¨å…¥**ï¼šKoin
- **å›¾ç‰‡åŠ è½½**ï¼šCoil
- **åª’ä½“å¤„ç†**ï¼šMedia3 Effect
- **æ•°æ®å­˜å‚¨**ï¼šMultiplatform Settings
- **åºåˆ—åŒ–**ï¼škotlinx.serialization

### é¡¹ç›®ç»“æ„

```
Live Wallpaper/
â”œâ”€â”€ app/                    # Android åº”ç”¨æ¨¡å—
â”‚   â”œâ”€â”€ src/main/
â”‚   â”‚   â”œâ”€â”€ java/          # Android å¹³å°ä»£ç 
â”‚   â”‚   â””â”€â”€ res/           # Android èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ shared/                 # KMP å…±äº«æ¨¡å—
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ commonMain/    # é€šç”¨ä¸šåŠ¡é€»è¾‘
â”‚       â”œâ”€â”€ androidMain/   # Android å¹³å°å®ç°
â”‚       â””â”€â”€ iosMain/      # iOS å¹³å°å®ç°ï¼ˆé¢„ç•™ï¼‰
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ design/           # è®¾è®¡ç³»ç»Ÿæ¨¡å—
â”‚   â””â”€â”€ test/             # æµ‹è¯•å·¥å…·æ¨¡å—
â”œâ”€â”€ build.gradle.kts      # æ ¹æ„å»ºæ–‡ä»¶
â”œâ”€â”€ settings.gradle.kts   # é¡¹ç›®è®¾ç½®
â””â”€â”€ gradle/
    â””â”€â”€ libs.versions.toml # ä¾èµ–ç‰ˆæœ¬ç®¡ç†
```

### æ¨¡å—è¯´æ˜

- **`:app`**ï¼šAndroid åº”ç”¨å…¥å£ï¼ŒåŒ…å« UI å±‚å’Œå¹³å°ç‰¹å®šå®ç°
- **`:shared`**ï¼šå…±äº«ä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…å«æ•°æ®å±‚ã€é¢†åŸŸå±‚å’Œè¡¨ç°å±‚
- **`:core:design`**ï¼šè®¾è®¡ç³»ç»Ÿå’Œé€šç”¨ UI ç»„ä»¶
- **`:core:test`**ï¼šæµ‹è¯•å·¥å…·å’Œ Mock æ•°æ®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **JDK**ï¼š11 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Android Studio**ï¼šæœ€æ–°ç¨³å®šç‰ˆï¼ˆæ¨èï¼‰
- **Android SDK**ï¼š
  - `compileSdk`ï¼š36
  - `minSdk`ï¼š24
  - `targetSdk`ï¼š36
- **Gradle**ï¼š8.13.1ï¼ˆå·²åŒ…å« Gradle Wrapperï¼‰

### å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd "Live Wallpaper"
```

### é…ç½®ç­¾åï¼ˆå¯é€‰ï¼‰

å¦‚éœ€ç”Ÿæˆ Release ç‰ˆæœ¬ï¼Œéœ€è¦é…ç½®ç­¾åï¼š

1. å¤åˆ¶ç­¾åé…ç½®æ¨¡æ¿ï¼š
   ```bash
   cp keystore.properties.example keystore.properties
   ```

2. ç¼–è¾‘ `keystore.properties`ï¼Œå¡«å†™ç­¾åä¿¡æ¯ï¼š
   ```properties
   storeFile=app/release.keystore
   storePassword=your_store_password
   keyAlias=release
   keyPassword=your_key_password
   ```

3. å¦‚æœè¿˜æ²¡æœ‰ç­¾åæ–‡ä»¶ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªï¼š
   ```bash
   keytool -genkey -v -keystore app/release.keystore -alias release -keyalg RSA -keysize 2048 -validity 10000
   ```

> âš ï¸ **æ³¨æ„**ï¼š`keystore.properties` æ–‡ä»¶å·²æ·»åŠ åˆ° `.gitignore`ï¼Œä¸ä¼šè¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ã€‚

### æ„å»ºé¡¹ç›®

#### Debug ç‰ˆæœ¬

```bash
# Windows
.\gradlew assembleDebug

# macOS/Linux
./gradlew assembleDebug
```

ç”Ÿæˆçš„ APK ä½ç½®ï¼š`app\debug\app-debug.apk`

#### Release ç‰ˆæœ¬

```bash
# Windows
.\gradlew assembleRelease

# macOS/Linux
./gradlew assembleRelease
```

ç”Ÿæˆçš„ APK ä½ç½®ï¼š`app\release\app-release.apk`

### è¿è¡Œé¡¹ç›®

1. ä½¿ç”¨ Android Studio æ‰“å¼€é¡¹ç›®
2. è¿æ¥ Android è®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨
3. ç‚¹å‡»è¿è¡ŒæŒ‰é’®æˆ–ä½¿ç”¨å¿«æ·é”® `Shift + F10`

## ğŸ“± ä½¿ç”¨è¯´æ˜

### è®¾ç½®åŠ¨æ€å£çº¸

1. **æ·»åŠ å›¾ç‰‡**ï¼š
   - æ‰“å¼€åº”ç”¨åï¼Œç‚¹å‡»å±å¹•åº•éƒ¨çš„ "+" æŒ‰é’®
   - é€‰æ‹©ä¸€å¼ æˆ–å¤šå¼ å›¾ç‰‡

2. **é…ç½®è®¾ç½®**ï¼š
   - ç‚¹å‡»å³ä¸Šè§’çš„è®¾ç½®å›¾æ ‡
   - è°ƒæ•´åˆ‡æ¢é—´éš”ï¼ˆ1-60ç§’ï¼‰
   - é€‰æ‹©ç¼©æ”¾æ¨¡å¼ï¼ˆå¡«å……/é€‚åº”ï¼‰
   - é€‰æ‹©æ’­æ”¾æ¨¡å¼ï¼ˆé¡ºåº/éšæœºï¼‰

3. **è°ƒæ•´å›¾ç‰‡**ï¼š
   - ç‚¹å‡»å›¾ç‰‡å¡ç‰‡è¿›å…¥é¢„è§ˆ
   - æ‰‹æŒ‡ç¼©æ”¾æ‹–åŠ¨è¿›è¡Œè£å‰ªå’Œä½ç½®è°ƒæ•´
   - ä¿å­˜è°ƒæ•´åçš„è®¾ç½®

4. **è®¾ç½®ä¸ºå£çº¸**ï¼š
   - ç‚¹å‡»åº•éƒ¨çš„"è®¾ç½®ä¸ºåŠ¨æ€å£çº¸"æŒ‰é’®
   - ç¡®è®¤è®¾ç½®

### ç®¡ç†å›¾ç‰‡

- **åˆ é™¤å›¾ç‰‡**ï¼šé•¿æŒ‰å›¾ç‰‡å¡ç‰‡ï¼Œé€‰æ‹©åˆ é™¤
- **é‡æ–°æ’åº**ï¼šé€šè¿‡æ‹–æ‹½è°ƒæ•´å›¾ç‰‡é¡ºåºï¼ˆé¡ºåºæ’­æ”¾æ¨¡å¼ä¸‹æœ‰æ•ˆï¼‰

## ğŸ”§ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

é¡¹ç›®éµå¾ªä»¥ä¸‹è§„èŒƒï¼š

- **æ¶æ„**ï¼šClean Architecture + MVVM
- **å‘½å**ï¼šKotlin æ ‡å‡†å‘½åè§„èŒƒ
- **ä»£ç æ ¼å¼**ï¼šä½¿ç”¨ ktlint è¿›è¡Œä»£ç æ ¼å¼åŒ–
- **æ³¨é‡Š**ï¼šå…¬å…± API å¿…é¡»ç¼–å†™ KDoc æ³¨é‡Š

è¯¦ç»†è§„èŒƒè¯·å‚è€ƒé¡¹ç›®æ ¹ç›®å½•çš„å¼€å‘è§„èŒƒæ–‡æ¡£ã€‚

### æ·»åŠ æ–°åŠŸèƒ½

1. **ä¸šåŠ¡é€»è¾‘**ï¼šåœ¨ `shared` æ¨¡å—ä¸­å®ç°
   - `data`ï¼šæ•°æ®æºå’Œä»“åº“å®ç°
   - `domain`ï¼šä¸šåŠ¡ç”¨ä¾‹å’Œé¢†åŸŸæ¨¡å‹
   - `presentation`ï¼šViewModel å’Œ UI çŠ¶æ€

2. **UI å®ç°**ï¼šåœ¨ `app` æ¨¡å—ä¸­å®ç°
   - ä½¿ç”¨ Jetpack Compose æ„å»º UI
   - é€šè¿‡ ViewModel è·å–æ•°æ®å’Œè§¦å‘äº‹ä»¶

3. **å¹³å°ç‰¹å®šåŠŸèƒ½**ï¼šä½¿ç”¨ `expect/actual` æœºåˆ¶
   - `commonMain` ä¸­å£°æ˜ `expect`
   - `androidMain`/`iosMain` ä¸­æä¾› `actual` å®ç°

### ä¾èµ–ç®¡ç†

æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬ç»Ÿä¸€åœ¨ `gradle/libs.versions.toml` ä¸­ç®¡ç†ï¼Œå­æ¨¡å—é€šè¿‡ç‰ˆæœ¬ç›®å½•å¼•ç”¨ï¼š

```kotlin
dependencies {
    implementation(libs.androidx.compose.ui)
    implementation(libs.koin.core)
}
```

## ğŸ“¦ æ‰“åŒ…å‘å¸ƒ

è¯¦ç»†çš„æ‰“åŒ…è¯´æ˜è¯·å‚è€ƒ [æ‰“åŒ…è¯´æ˜.md](./æ‰“åŒ…è¯´æ˜.md)ã€‚

### å¿«é€Ÿæ‰“åŒ…

1. ç¡®ä¿å·²é…ç½®ç­¾åï¼ˆè§"é…ç½®ç­¾å"ç« èŠ‚ï¼‰
2. æ‰§è¡Œæ‰“åŒ…å‘½ä»¤ï¼š
   ```bash
   ./gradlew assembleRelease
   ```
3. APK æ–‡ä»¶ä½äºï¼š`app/build/outputs/apk/release/app-release.apk`

### ç‰ˆæœ¬å·ç®¡ç†

åœ¨ `app/build.gradle.kts` ä¸­ä¿®æ”¹ç‰ˆæœ¬ä¿¡æ¯ï¼š

```kotlin
defaultConfig {
    versionCode = 1      // ç‰ˆæœ¬å·ï¼ˆæ•´æ•°ï¼Œæ¯æ¬¡æ›´æ–°é€’å¢ï¼‰
    versionName = "1.0"  // ç‰ˆæœ¬åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰
}
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
./gradlew test

# è¿è¡Œ Android æµ‹è¯•
./gradlew connectedAndroidTest
```

### æµ‹è¯•ç»“æ„

- **å•å…ƒæµ‹è¯•**ï¼š`src/test/`
- **Android æµ‹è¯•**ï¼š`src/androidTest/`
- **å…±äº«æ¨¡å—æµ‹è¯•**ï¼š`shared/src/commonTest/`

## ğŸŒ å›½é™…åŒ–

ç›®å‰æ”¯æŒä»¥ä¸‹è¯­è¨€ï¼š

- **ç®€ä½“ä¸­æ–‡**ï¼ˆzh-CNï¼‰
- **è‹±æ–‡**ï¼ˆenï¼‰

æ–‡æ¡ˆèµ„æºä½äºï¼š
- Androidï¼š`app/src/main/res/values/strings.xml`
- å…±äº«æ¨¡å—ï¼š`shared/src/commonMain/kotlin/.../core/i18n/`

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

This project is licensed under the [MIT License](LICENSE).

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ è”ç³»æ–¹å¼

[åœ¨æ­¤æ·»åŠ è”ç³»æ–¹å¼]

---

**æ³¨æ„**ï¼šæœ¬é¡¹ç›®ä»åœ¨ç§¯æå¼€å‘ä¸­ï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½å°šæœªå®Œå–„ã€‚å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åé¦ˆã€‚

